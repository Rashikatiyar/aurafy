<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurafy - Where You Refine Your Aura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
        .card-glow { box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37); backdrop-filter: blur(4px); }
        .timer-circle { 
            background: conic-gradient(#e879f9 0deg, #e879f9 var(--progress, 0deg), #f3e8ff var(--progress, 0deg)); 
        }
        .pulse-glow { animation: pulse-glow 2s infinite; }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(232, 121, 249, 0.4); }
            50% { box-shadow: 0 0 30px rgba(232, 121, 249, 0.8); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white/80 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-sm">A</span>
                    </div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">Aurafy</h1>
                </div>
                <div class="flex space-x-8">
                    <button onclick="showPage('about')" class="nav-btn text-gray-700 hover:text-purple-600 font-medium transition-colors" data-page="about">About</button>
                    <button onclick="showPage('timer')" class="nav-btn text-gray-700 hover:text-purple-600 font-medium transition-colors" data-page="timer">Timer</button>
                    <button onclick="showPage('stopwatch')" class="nav-btn text-gray-700 hover:text-purple-600 font-medium transition-colors" data-page="stopwatch">Stopwatch</button>
                    <button onclick="showPage('notes')" class="nav-btn text-gray-700 hover:text-purple-600 font-medium transition-colors" data-page="notes">Notes</button>
                    <button onclick="showPage('progress')" class="nav-btn text-gray-700 hover:text-purple-600 font-medium transition-colors" data-page="progress">Track Progress</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- About Page -->
    <div id="about-page" class="page-content">
        <div class="max-w-6xl mx-auto px-4 py-12">
            <div class="text-center mb-12">
                <h2 class="text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
                    Where You Refine Your Aura
                </h2>
                <p class="text-xl text-gray-600 italic mb-8">"Your aura reflects your actions."</p>
                <p class="text-lg text-gray-700 max-w-3xl mx-auto leading-relaxed">
                    Aurafy is a productivity-enhancing web app designed to help you manage your time, focus better, and stay organized ‚Äî all while maintaining a calming, aesthetic workspace.
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="bg-white/60 card-glow rounded-2xl p-6 text-center hover:transform hover:scale-105 transition-all cursor-pointer" onclick="showPage('timer')">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">‚è∞</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Pomodoro Timer</h3>
                    <p class="text-gray-600">Focus sessions with customizable durations</p>
                </div>

                <div class="bg-white/60 card-glow rounded-2xl p-6 text-center hover:transform hover:scale-105 transition-all cursor-pointer" onclick="showPage('stopwatch')">
                    <div class="w-16 h-16 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">‚è±Ô∏è</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Stopwatch</h3>
                    <p class="text-gray-600">Track open-ended tasks with precision</p>
                </div>

                <div class="bg-white/60 card-glow rounded-2xl p-6 text-center hover:transform hover:scale-105 transition-all cursor-pointer" onclick="showPage('notes')">
                    <div class="w-16 h-16 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üìù</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Notes App</h3>
                    <p class="text-gray-600">Quick-access notes while you focus</p>
                </div>

                <div class="bg-white/60 card-glow rounded-2xl p-6 text-center hover:transform hover:scale-105 transition-all">
                    <div class="w-16 h-16 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üìä</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Progress Tracker</h3>
                    <p class="text-gray-600">Daily analytics and motivation</p>
                </div>
            </div>

            <div class="bg-white/60 card-glow rounded-2xl p-8">
                <h3 class="text-2xl font-semibold text-gray-800 mb-6 text-center">Today's Progress</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-purple-600" id="total-focus-time">0h 0m</div>
                        <div class="text-gray-600">Focus Time</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-blue-600" id="total-stopwatch-time">0h 0m</div>
                        <div class="text-gray-600">Stopwatch Time</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-green-600" id="notes-count">0</div>
                        <div class="text-gray-600">Notes Created</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Timer Page -->
    <div id="timer-page" class="page-content hidden">
        <div class="max-w-4xl mx-auto px-4 py-12">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-2">Pomodoro Timer</h2>
                <p class="text-gray-600">Focus deeply, rest mindfully</p>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Timer Section -->
                <div class="lg:col-span-2">
                    <div class="bg-white/60 card-glow rounded-2xl p-8 text-center">
                        <div class="relative w-64 h-64 mx-auto mb-8">
                            <div class="timer-circle w-full h-full rounded-full flex items-center justify-center" style="--progress: 0deg;">
                                <div class="bg-white w-48 h-48 rounded-full flex flex-col items-center justify-center shadow-inner">
                                    <div id="timer-display" class="text-4xl font-bold text-gray-800">25:00</div>
                                    <div id="timer-mode" class="text-sm text-gray-600 mt-2">Focus Session</div>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-center space-x-4 mb-6">
                            <button id="timer-start" onclick="startTimer()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-3 rounded-full font-semibold hover:from-purple-600 hover:to-pink-600 transition-all pulse-glow">
                                Start
                            </button>
                            <button id="timer-pause" onclick="pauseTimer()" class="bg-gray-500 text-white px-8 py-3 rounded-full font-semibold hover:bg-gray-600 transition-all hidden">
                                Pause
                            </button>
                            <button onclick="resetTimer()" class="bg-gray-300 text-gray-700 px-8 py-3 rounded-full font-semibold hover:bg-gray-400 transition-all">
                                Reset
                            </button>
                        </div>

                        <div class="flex justify-center space-x-4">
                            <div class="text-center">
                                <input type="number" id="focus-duration" value="25" min="1" max="60" class="w-16 text-center border rounded-lg py-1">
                                <div class="text-sm text-gray-600 mt-1">Focus (min)</div>
                            </div>
                            <div class="text-center">
                                <input type="number" id="break-duration" value="5" min="1" max="30" class="w-16 text-center border rounded-lg py-1">
                                <div class="text-sm text-gray-600 mt-1">Break (min)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Side Tasks -->
                <div class="bg-white/60 card-glow rounded-2xl p-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Quick Tasks</h3>
                    <div class="space-y-2 mb-4" id="task-list">
                        <!-- Tasks will be added here -->
                    </div>
                    <div class="flex">
                        <input type="text" id="new-task" placeholder="Add a quick task..." class="flex-1 border rounded-l-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <button onclick="addTask()" class="bg-purple-500 text-white px-4 py-2 rounded-r-lg hover:bg-purple-600 transition-colors">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stopwatch Page -->
    <div id="stopwatch-page" class="page-content hidden">
        <div class="max-w-2xl mx-auto px-4 py-12">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-2">Stopwatch</h2>
                <p class="text-gray-600">Track your open-ended tasks</p>
            </div>

            <div class="bg-white/60 card-glow rounded-2xl p-12 text-center">
                <div class="text-6xl font-bold text-gray-800 mb-8" id="stopwatch-display">00:00:00</div>
                
                <div class="flex justify-center space-x-4">
                    <button id="stopwatch-start" onclick="startStopwatch()" class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-8 py-3 rounded-full font-semibold hover:from-blue-600 hover:to-cyan-600 transition-all pulse-glow">
                        Start
                    </button>
                    <button id="stopwatch-pause" onclick="pauseStopwatch()" class="bg-gray-500 text-white px-8 py-3 rounded-full font-semibold hover:bg-gray-600 transition-all hidden">
                        Pause
                    </button>
                    <button onclick="resetStopwatch()" class="bg-gray-300 text-gray-700 px-8 py-3 rounded-full font-semibold hover:bg-gray-400 transition-all">
                        Reset
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Progress Page -->
    <div id="progress-page" class="page-content hidden">
        <div class="max-w-6xl mx-auto px-4 py-12">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-2">Track Your Progress</h2>
                <p class="text-gray-600">Monitor your productivity journey</p>
            </div>

            <!-- Time Period Selector -->
            <div class="flex justify-center mb-8">
                <div class="bg-white/60 card-glow rounded-full p-2 flex space-x-2">
                    <button onclick="showProgressPeriod('daily')" id="daily-btn" class="px-6 py-2 rounded-full font-medium transition-all bg-gradient-to-r from-purple-500 to-pink-500 text-white">Daily</button>
                    <button onclick="showProgressPeriod('weekly')" id="weekly-btn" class="px-6 py-2 rounded-full font-medium transition-all text-gray-600 hover:text-purple-600">Weekly</button>
                </div>
            </div>

            <!-- Daily Progress -->
            <div id="daily-progress" class="progress-period">
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">‚è∞</span>
                        </div>
                        <div class="text-3xl font-bold text-purple-600" id="daily-focus-time">0h 0m</div>
                        <div class="text-gray-600">Focus Time Today</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">‚è±Ô∏è</span>
                        </div>
                        <div class="text-3xl font-bold text-blue-600" id="daily-stopwatch-time">0h 0m</div>
                        <div class="text-gray-600">Stopwatch Time Today</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">üìù</span>
                        </div>
                        <div class="text-3xl font-bold text-green-600" id="daily-notes-count">0</div>
                        <div class="text-gray-600">Notes Created Today</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">üéØ</span>
                        </div>
                        <div class="text-3xl font-bold text-orange-600" id="daily-sessions">0</div>
                        <div class="text-gray-600">Focus Sessions</div>
                    </div>
                </div>

                <div class="bg-white/60 card-glow rounded-2xl p-8">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-6">Today's Activity</h3>
                    <div class="space-y-4" id="daily-activity-log">
                        <div class="text-gray-500 text-center py-8">Start using Aurafy to see your daily activity here!</div>
                    </div>
                </div>
            </div>

            <!-- Weekly Progress -->
            <div id="weekly-progress" class="progress-period hidden">
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">‚è∞</span>
                        </div>
                        <div class="text-3xl font-bold text-purple-600" id="weekly-focus-time">0h 0m</div>
                        <div class="text-gray-600">Focus Time This Week</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">‚è±Ô∏è</span>
                        </div>
                        <div class="text-3xl font-bold text-blue-600" id="weekly-stopwatch-time">0h 0m</div>
                        <div class="text-gray-600">Stopwatch Time This Week</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">üìù</span>
                        </div>
                        <div class="text-3xl font-bold text-green-600" id="weekly-notes-count">0</div>
                        <div class="text-gray-600">Notes Created This Week</div>
                    </div>

                    <div class="bg-white/60 card-glow rounded-2xl p-6 text-center">
                        <div class="w-16 h-16 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">üìä</span>
                        </div>
                        <div class="text-3xl font-bold text-orange-600" id="weekly-average">0h 0m</div>
                        <div class="text-gray-600">Daily Average</div>
                    </div>
                </div>

                <div class="bg-white/60 card-glow rounded-2xl p-8">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-6">Weekly Overview</h3>
                    <div class="grid grid-cols-7 gap-2 mb-4">
                        <div class="text-center text-sm font-medium text-gray-600">Mon</div>
                        <div class="text-center text-sm font-medium text-gray-600">Tue</div>
                        <div class="text-center text-sm font-medium text-gray-600">Wed</div>
                        <div class="text-center text-sm font-medium text-gray-600">Thu</div>
                        <div class="text-center text-sm font-medium text-gray-600">Fri</div>
                        <div class="text-center text-sm font-medium text-gray-600">Sat</div>
                        <div class="text-center text-sm font-medium text-gray-600">Sun</div>
                    </div>
                    <div class="grid grid-cols-7 gap-2" id="weekly-chart">
                        <!-- Weekly chart bars will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notes Page -->
    <div id="notes-page" class="page-content hidden">
        <div class="max-w-6xl mx-auto px-4 py-12">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-2">Notes</h2>
                <p class="text-gray-600">Capture your thoughts and ideas</p>
            </div>

            <div class="grid lg:grid-cols-3 gap-6">
                <!-- Notes List -->
                <div class="lg:col-span-1">
                    <div class="bg-white/60 card-glow rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">Your Notes</h3>
                            <button onclick="createNewNote()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">+ New</button>
                        </div>
                        <div id="notes-list" class="space-y-2">
                            <!-- Notes will be listed here -->
                        </div>
                    </div>
                </div>

                <!-- Note Editor -->
                <div class="lg:col-span-2">
                    <div class="bg-white/60 card-glow rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-4">
                            <input type="text" id="note-title" placeholder="Note title..." class="text-xl font-semibold bg-transparent border-none outline-none flex-1">
                            <div class="flex space-x-2">
                                <button onclick="saveCurrentNote()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">Save</button>
                                <button onclick="deleteCurrentNote()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">Delete</button>
                            </div>
                        </div>
                        <textarea id="note-content" placeholder="Start writing your note..." class="w-full h-96 bg-transparent border border-gray-200 rounded-lg p-4 resize-none focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentPage = 'about';
        let timerInterval = null;
        let timerSeconds = 0;
        let timerMode = 'focus'; // 'focus' or 'break'
        let isTimerRunning = false;
        let stopwatchInterval = null;
        let stopwatchSeconds = 0;
        let isStopwatchRunning = false;
        let notes = JSON.parse(localStorage.getItem('aurafy-notes') || '[]');
        let currentNoteId = null;
        let tasks = JSON.parse(localStorage.getItem('aurafy-tasks') || '[]');
        let dailyStats = JSON.parse(localStorage.getItem('aurafy-daily-stats') || '{"focusTime": 0, "stopwatchTime": 0, "notesCount": 0}');

        // Navigation
        function showPage(page) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
            document.getElementById(page + '-page').classList.remove('hidden');
            currentPage = page;
            
            // Update navigation highlighting
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if (btn.dataset.page === page) {
                    btn.classList.remove('text-gray-700');
                    btn.classList.add('text-purple-600', 'font-semibold');
                } else {
                    btn.classList.remove('text-purple-600', 'font-semibold');
                    btn.classList.add('text-gray-700');
                }
            });
            
            if (page === 'notes') {
                loadNotes();
            } else if (page === 'timer') {
                loadTasks();
            } else if (page === 'about') {
                updateDailyStats();
            } else if (page === 'progress') {
                updateProgressStats();
            }
        }

        // Progress functions
        function showProgressPeriod(period) {
            document.querySelectorAll('.progress-period').forEach(p => p.classList.add('hidden'));
            document.getElementById(period + '-progress').classList.remove('hidden');
            
            // Update button styling
            if (period === 'daily') {
                document.getElementById('daily-btn').className = 'px-6 py-2 rounded-full font-medium transition-all bg-gradient-to-r from-purple-500 to-pink-500 text-white';
                document.getElementById('weekly-btn').className = 'px-6 py-2 rounded-full font-medium transition-all text-gray-600 hover:text-purple-600';
            } else {
                document.getElementById('weekly-btn').className = 'px-6 py-2 rounded-full font-medium transition-all bg-gradient-to-r from-purple-500 to-pink-500 text-white';
                document.getElementById('daily-btn').className = 'px-6 py-2 rounded-full font-medium transition-all text-gray-600 hover:text-purple-600';
            }
            
            updateProgressStats();
        }

        function updateProgressStats() {
            // Update daily stats
            const focusHours = Math.floor(dailyStats.focusTime / 60);
            const focusMinutes = dailyStats.focusTime % 60;
            document.getElementById('daily-focus-time').textContent = `${focusHours}h ${focusMinutes}m`;
            
            const stopwatchHours = Math.floor(dailyStats.stopwatchTime / 60);
            const stopwatchMinutes = dailyStats.stopwatchTime % 60;
            document.getElementById('daily-stopwatch-time').textContent = `${stopwatchHours}h ${stopwatchMinutes}m`;
            
            document.getElementById('daily-notes-count').textContent = dailyStats.notesCount;
            document.getElementById('daily-sessions').textContent = dailyStats.focusSessions || 0;
            
            // Update weekly stats (simulated for demo)
            const weeklyFocusTime = dailyStats.focusTime * 7; // Simulated weekly data
            const weeklyFocusHours = Math.floor(weeklyFocusTime / 60);
            const weeklyFocusMinutes = weeklyFocusTime % 60;
            document.getElementById('weekly-focus-time').textContent = `${weeklyFocusHours}h ${weeklyFocusMinutes}m`;
            
            const weeklyStopwatchTime = dailyStats.stopwatchTime * 7;
            const weeklyStopwatchHours = Math.floor(weeklyStopwatchTime / 60);
            const weeklyStopwatchMinutesCalc = weeklyStopwatchTime % 60;
            document.getElementById('weekly-stopwatch-time').textContent = `${weeklyStopwatchHours}h ${weeklyStopwatchMinutesCalc}m`;
            
            document.getElementById('weekly-notes-count').textContent = dailyStats.notesCount * 7;
            
            const avgHours = Math.floor((dailyStats.focusTime + dailyStats.stopwatchTime) / 60);
            const avgMinutes = (dailyStats.focusTime + dailyStats.stopwatchTime) % 60;
            document.getElementById('weekly-average').textContent = `${avgHours}h ${avgMinutes}m`;
            
            // Generate weekly chart
            generateWeeklyChart();
            updateActivityLog();
        }

        function generateWeeklyChart() {
            const weeklyChart = document.getElementById('weekly-chart');
            weeklyChart.innerHTML = '';
            
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            const maxHeight = 100;
            
            days.forEach((day, index) => {
                const dayData = Math.random() * dailyStats.focusTime + Math.random() * dailyStats.stopwatchTime;
                const height = Math.max(10, (dayData / Math.max(1, dailyStats.focusTime + dailyStats.stopwatchTime)) * maxHeight);
                
                const bar = document.createElement('div');
                bar.className = 'flex flex-col items-center';
                bar.innerHTML = `
                    <div class="bg-gradient-to-t from-purple-400 to-pink-400 rounded-t w-8 mb-2" style="height: ${height}px;"></div>
                    <div class="text-xs text-gray-600">${Math.floor(dayData)}m</div>
                `;
                weeklyChart.appendChild(bar);
            });
        }

        function updateActivityLog() {
            const activityLog = document.getElementById('daily-activity-log');
            const activities = [];
            
            if (dailyStats.focusTime > 0) {
                activities.push(`<div class="flex items-center space-x-3 p-3 bg-purple-50 rounded-lg">
                    <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                    <span class="text-gray-700">Completed ${Math.floor(dailyStats.focusTime / 25)} focus sessions</span>
                </div>`);
            }
            
            if (dailyStats.stopwatchTime > 0) {
                activities.push(`<div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                    <span class="text-gray-700">Used stopwatch for ${Math.floor(dailyStats.stopwatchTime / 60)}h ${dailyStats.stopwatchTime % 60}m</span>
                </div>`);
            }
            
            if (dailyStats.notesCount > 0) {
                activities.push(`<div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-gray-700">Created ${dailyStats.notesCount} notes</span>
                </div>`);
            }
            
            if (activities.length === 0) {
                activityLog.innerHTML = '<div class="text-gray-500 text-center py-8">Start using Aurafy to see your daily activity here!</div>';
            } else {
                activityLog.innerHTML = activities.join('');
            }
        }

        // Timer functions
        function startTimer() {
            if (!isTimerRunning) {
                const focusDuration = parseInt(document.getElementById('focus-duration').value);
                const breakDuration = parseInt(document.getElementById('break-duration').value);
                
                if (timerSeconds === 0) {
                    timerSeconds = (timerMode === 'focus' ? focusDuration : breakDuration) * 60;
                }
                
                isTimerRunning = true;
                document.getElementById('timer-start').classList.add('hidden');
                document.getElementById('timer-pause').classList.remove('hidden');
                
                timerInterval = setInterval(() => {
                    timerSeconds--;
                    updateTimerDisplay();
                    updateTimerProgress();
                    
                    if (timerSeconds <= 0) {
                        completeTimerSession();
                    }
                }, 1000);
            }
        }

        function pauseTimer() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            document.getElementById('timer-start').classList.remove('hidden');
            document.getElementById('timer-pause').classList.add('hidden');
        }

        function resetTimer() {
            pauseTimer();
            timerSeconds = 0;
            updateTimerDisplay();
            updateTimerProgress();
        }

        function completeTimerSession() {
            pauseTimer();
            
            if (timerMode === 'focus') {
                dailyStats.focusTime += parseInt(document.getElementById('focus-duration').value);
                dailyStats.focusSessions = (dailyStats.focusSessions || 0) + 1;
                timerMode = 'break';
                document.getElementById('timer-mode').textContent = 'Break Time';
            } else {
                timerMode = 'focus';
                document.getElementById('timer-mode').textContent = 'Focus Session';
            }
            
            saveDailyStats();
            timerSeconds = 0;
            updateTimerDisplay();
            updateTimerProgress();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            document.getElementById('timer-display').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateTimerProgress() {
            const focusDuration = parseInt(document.getElementById('focus-duration').value);
            const breakDuration = parseInt(document.getElementById('break-duration').value);
            const totalSeconds = (timerMode === 'focus' ? focusDuration : breakDuration) * 60;
            const progress = ((totalSeconds - timerSeconds) / totalSeconds) * 360;
            document.querySelector('.timer-circle').style.setProperty('--progress', `${progress}deg`);
        }

        // Stopwatch functions
        function startStopwatch() {
            if (!isStopwatchRunning) {
                isStopwatchRunning = true;
                document.getElementById('stopwatch-start').classList.add('hidden');
                document.getElementById('stopwatch-pause').classList.remove('hidden');
                
                stopwatchInterval = setInterval(() => {
                    stopwatchSeconds++;
                    updateStopwatchDisplay();
                }, 1000);
            }
        }

        function pauseStopwatch() {
            isStopwatchRunning = false;
            clearInterval(stopwatchInterval);
            document.getElementById('stopwatch-start').classList.remove('hidden');
            document.getElementById('stopwatch-pause').classList.add('hidden');
            
            dailyStats.stopwatchTime += Math.floor(stopwatchSeconds / 60);
            saveDailyStats();
        }

        function resetStopwatch() {
            pauseStopwatch();
            stopwatchSeconds = 0;
            updateStopwatchDisplay();
        }

        function updateStopwatchDisplay() {
            const hours = Math.floor(stopwatchSeconds / 3600);
            const minutes = Math.floor((stopwatchSeconds % 3600) / 60);
            const seconds = stopwatchSeconds % 60;
            document.getElementById('stopwatch-display').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Notes functions
        function loadNotes() {
            const notesList = document.getElementById('notes-list');
            notesList.innerHTML = '';
            
            notes.forEach(note => {
                const noteItem = document.createElement('div');
                noteItem.className = 'p-3 bg-white/50 rounded-lg cursor-pointer hover:bg-white/70 transition-colors';
                noteItem.innerHTML = `
                    <div class="font-medium text-gray-800 truncate">${note.title || 'Untitled'}</div>
                    <div class="text-sm text-gray-600 truncate">${note.content.substring(0, 50)}...</div>
                `;
                noteItem.onclick = () => loadNote(note.id);
                notesList.appendChild(noteItem);
            });
        }

        function createNewNote() {
            const newNote = {
                id: Date.now(),
                title: '',
                content: '',
                createdAt: new Date().toISOString()
            };
            notes.unshift(newNote);
            saveNotes();
            loadNotes();
            loadNote(newNote.id);
            dailyStats.notesCount++;
            saveDailyStats();
        }

        function loadNote(noteId) {
            const note = notes.find(n => n.id === noteId);
            if (note) {
                currentNoteId = noteId;
                document.getElementById('note-title').value = note.title;
                document.getElementById('note-content').value = note.content;
            }
        }

        function saveCurrentNote() {
            if (currentNoteId) {
                const note = notes.find(n => n.id === currentNoteId);
                if (note) {
                    note.title = document.getElementById('note-title').value;
                    note.content = document.getElementById('note-content').value;
                    saveNotes();
                    loadNotes();
                }
            }
        }

        function deleteCurrentNote() {
            if (currentNoteId && confirm('Are you sure you want to delete this note?')) {
                notes = notes.filter(n => n.id !== currentNoteId);
                saveNotes();
                loadNotes();
                document.getElementById('note-title').value = '';
                document.getElementById('note-content').value = '';
                currentNoteId = null;
            }
        }

        function saveNotes() {
            localStorage.setItem('aurafy-notes', JSON.stringify(notes));
        }

        // Tasks functions
        function loadTasks() {
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';
            
            tasks.forEach((task, index) => {
                const taskItem = document.createElement('div');
                taskItem.className = 'flex items-center space-x-2 p-2 bg-white/50 rounded-lg';
                taskItem.innerHTML = `
                    <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask(${index})" class="rounded">
                    <span class="${task.completed ? 'line-through text-gray-500' : 'text-gray-800'} flex-1">${task.text}</span>
                    <button onclick="deleteTask(${index})" class="text-red-500 hover:text-red-700">√ó</button>
                `;
                taskList.appendChild(taskItem);
            });
        }

        function addTask() {
            const input = document.getElementById('new-task');
            const text = input.value.trim();
            if (text) {
                tasks.push({ text, completed: false });
                saveTasks();
                loadTasks();
                input.value = '';
            }
        }

        function toggleTask(index) {
            tasks[index].completed = !tasks[index].completed;
            saveTasks();
            loadTasks();
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            saveTasks();
            loadTasks();
        }

        function saveTasks() {
            localStorage.setItem('aurafy-tasks', JSON.stringify(tasks));
        }

        // Daily stats functions
        function updateDailyStats() {
            const focusHours = Math.floor(dailyStats.focusTime / 60);
            const focusMinutes = dailyStats.focusTime % 60;
            document.getElementById('total-focus-time').textContent = `${focusHours}h ${focusMinutes}m`;
            
            const stopwatchHours = Math.floor(dailyStats.stopwatchTime / 60);
            const stopwatchMinutes = dailyStats.stopwatchTime % 60;
            document.getElementById('total-stopwatch-time').textContent = `${stopwatchHours}h ${stopwatchMinutes}m`;
            
            document.getElementById('notes-count').textContent = dailyStats.notesCount;
        }

        function saveDailyStats() {
            localStorage.setItem('aurafy-daily-stats', JSON.stringify(dailyStats));
        }

        // Enter key handlers
        document.getElementById('new-task').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addTask();
        });

        // Initialize
        updateDailyStats();
        loadTasks();
        showPage('about'); // Set initial page and highlighting
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'969fa69c52155512',t:'MTc1NDMyNzI0NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
